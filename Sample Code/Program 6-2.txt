MYRAM		EQU $860		
ASC_RAM	EQU $870
COUNTREG	EQU $820		
CNTVAL	EQU 4			
CNTVAL1	EQU 8			
	LDS	#$900			
	JSR	COPY_DATA
	JSR	BCD_ASC_CONV
	JSR	DISPLAY
	BRA	$
COPY_DATA
	LDX	 #MYBYTE	
	LDY	 #MYRAM	
	LDAA	 #CNTVAL
	STAA	 COUNTREG 
B5	LDAA	 1,X+	 
	STAA	 1,Y+		
	DEC	 COUNTREG
	BNE	 B5 		
	RTS	
BCD_ASC_CONV
	LDX	 #MYRAM	
	LDY	 #ASC_RAM	
	LDAA	 #CNTVAL
	STAA	 COUNTREG 
B6	LDAA	 0,X	 	
	ANDA   #$F0		
	LSRA			
	LSRA			
	LSRA
	LSRA			
	ORAA #$30 	    	
	STAA 1,Y+      	
	LDAA 1,X+	    
	ANDA #$0F		
	ORAA #$30		
	STAA 1,Y+		
	DEC	 COUNTREG
	BNE	 B6 		
	RTS	
DISPLAY	
	BSET	DDRB, %11111111	
	LDAA	#CNTVAL1		
	STAA	COUNTREG		
	LDX	#ASC_RAM		
B3	LDAA	1,X+			
	STAA	PORTB			
	DEC	COUNTREG		
	BNE 	B3			
	RTS
	ORG $8500
MYBYTE FCB $25,$67,$39,$52
  	END
